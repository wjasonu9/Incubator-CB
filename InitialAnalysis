I sought to analyze data from the Cherry Blossom Ten Mile Run (https://en.wikipedia.org/wiki/Cherry_Blossom_Ten_Mile_Run).  This is a 10-mile road race taking place yearly on the first Sunday of April in Washington, DC.  See "DatasetDescription.txt" for a brief summary of how to access these data and the variables included.  As an acknowledgment, I followed many of the guidelines for scraping these data from the web and then cleaning it from Chapter 2 of "Data Science in R" by Nolan and Temple Lang.

This dataset is exciting to me not only as an excellent opportunity to practice data analysis, but also because I am not a runner and I hope to learn more about the overall dynamics of running through these data.  What I pursue right now is an analysis of the half time (5 mile time) data when it's available (the years 2008, and 2010-12).  Thinking about how I hypothetically run the race, I figured I would be more energetic for the 1st half but "burn out" by the 2nd half, so my 5 mile time would be better than my 10 mile time (ie, my 10 mile time would be quite a bit more than twice my 5 mile time).  I was curious if the same thing happens for the runners in the dataset, who are more trained at running than I am.  This led me to look at the ratio of 10 mile time to 5 mile time (which I simply call "ratio" going forward), and seeing how it relates to other covariates.  What I expect to see is that, for most runners, the ratio is greater than 2, and one thing I am curious about is just how much.  I also expect the ratio tends to be higher for older runners, and also for runners whose 10 mile time is high.  The intuition for the latter is that an explanatory factor for a long race time is a deterioration of performance in the latter half of the race, when the runner "burns out".  In the last paragraph, I will mention directions I want to pursue for future analysis.

One covariate in particular whose effect on the ratio I was curious about was the location of origin for the runner relative to Washington, DC, the location of the race.  After removing entries without a hometown given, and excess white space at the start and end of the hometown string, I could extract the state or country by looking at the character string after the last space.  I considered DC, MD, and VA as "local", other 2-letter endings such as NY as US but nonlocal, and endings of length more than 2 as international (luckily, I found no 2-letter country abbreviations).  My hypothesis here was that the ratio would be higher for people farther from DC because they likely have to travel quite a bit to get to the race location, eg possibly experiencing jet lag, which could negatively affect their performance.  To study this, I focused on the women's data.  There were 27000+ "local" runners, 6000+ from elsewhere in the US, and only 52 international runners.  This last figure was the first of many surprises I encountered in my analysis.  I often use the head() command in R to see the first few rows of a dataset.  I do this both as a sanity check that my data manipulations are not screwing up the data, and to get a feel for the data.  Here, the latter was deceptive: international runners tend to be at the top with their fast run times, which gave me a false sense that quite a bit of the runners in the entire dataset were international.  I next plotted 10 mile time vs 5 mile time for these runners, color coded by these 3 location categories.  Because of the large number of points for the US categories, I used smoothScatter() in R, which uses darker shading for regions with a higher density of points.  I also added a solid black line y=2x, which shows where 10 mile time is exactly 2 times 5 mile time.  The result is in my 1st figure (https://github.com/wjasonu9/Incubator-CB/blob/master/10vs5byLoc.pdf).  The US local and nonlocal runners have barely distinguishable data clouds, but the latter cloud seems to be overall slightly below the former.  This means the nonlocals overall have a lower ratio, contrary to my expectation.  The difference between international and US runners is more pronounced.  The former tend to be in the bottom left of the plot, ie they are fast, and probably are quite professional runners if they are willing to travel so far to run.  For my further analysis, I decided to omit the international runners, since I wanted to focus on how the "average" runner performs, while the international runners clearly seem elite.  A final shocker this plot gave me is that the ratio does not seem to be systematically well above 2 as I hypothesized: there was barely any large detectable systematic slowdown between the 1st half and 2nd half of the race.  This led me to wonder if 10 miles is actually not that much for a runner with some training, so her performance does not deteriorate much throughout the course of the race.  A future direction is to look at longer race data, eg from marathons, where half times are reported.

I then considered the combined effect of 2 other covariates, age and 10 mile time, on the ratio.  I already explained what I expect to see 2 paragraphs ago.  To explore this, I decided to try fitting a thin plate spline to ratio as a function of age and 10 mile time.  Using the Tps() function in the R package fields, I realized I did not have the available memory to fit to entire dataset, so I had to fit to a random subsample.  I only reported one instance in my 2nd figure (https://github.com/wjasonu9/Incubator-CB/blob/master/RatioContour.pdf) with a set seed for reproducibility, but I did it multiple times on different random subsamples and was reassured that the overall contours looked similar each time.  When I saw the plot, I was surprised yet again.  Age seems to have little effect on ratio, and the change is driven almost entirely by the 10 mile time, which is indeed positively correlated with the ratio as I imagined.  The only thing I could say about age is that the contours seem slightly closer together at young ages than old ages.  That is, for young runners, the ratio increases faster with 10 mile time than for older runners.  This suggests that older runners are more "stable" in their race performance, being better able to maintain a consistent speed in the race, whether slow or fast.

I conclude by mentioning some future directions I want to take. My first plot makes me curious if the ratio on the whole tends to get higher for longer races, eg marathons, as I already mentioned.  Another possibility is to change location to a continuous covariate: distance from DC, and see its relationship to the ratio or the 10 mile time itself.  From my analysis so far, I expect there to be a lot of noise (eg many experienced runners come from far and are not adversely impacted by the travel to get to DC), but it is quite possible there is something I missed by lumping location into just 3 bins.  A third thing I am curious about is the impact of weather.  I could scrape weather data for DC on the days of the race and see if the race data over the years differs systematically in a way that weather can seem to explain.  Most ambitiously, I want to see if there is ideal "weather" that runners tend to perform best at. This might require bringing in data from other races as well.
